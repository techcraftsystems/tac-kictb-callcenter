@model Core.ViewModel.ContactsRegistrationViewModel;
@{
    ViewData["Title"] = "Registration";
}

<link rel="stylesheet" type="text/css" href="~/css/pages/user-profile-page.css">
<link rel="stylesheet" type="text/css" href="~/css/pages/form-wizard.css">
<link rel="stylesheet" type="text/css" href="~/vendors/materialize-stepper/materialize-stepper.min.css">

<style>
    div.col.l2.screening {
        width: 20%;
    }
    div.col.l3.screening {
        width: 30%;
    }
</style>

<div class="content-wrapper-before gradient-45deg-indigo-purple"></div>
<div class="breadcrumbs-dark pb-0 pt-4" id="breadcrumbs-wrapper">
    <div class="container">
        <div class="row">
            <div class="col s10 m6 l6">
                <h5 class="breadcrumbs-title mt-0 mb-0">Contact's Profile Page</h5>
                <ol class="breadcrumbs mb-0">
                    <li class="breadcrumb-item">
                        <a href="/">Home</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="/contacts">Contacts</a>
                    </li>
                    <li class="breadcrumb-item active">
                        Registration
                    </li>
                </ol>
            </div>
        </div>
    </div>
</div>

<div class="col s12">
    <div class="container">
        <div class="row user-profile mt-1">&nbsp;</div>
    </div>
</div>

<div class="section" id="user-profile">
    <div class="row">
        <div class="col s12 m4 l2">
            <div class="row">
                <div class="col s12" style="padding-top:0px; min-height:40px">
                    <h6 class="m-0 bold-text white-text">Registration Form</h6>
                </div>
                <img class="center" src="~/images/forms/people.png" style="width:95%" />
                <div style="clear:both"></div>
                <hr />
            </div>
        </div>

        <div class="col s12 m8 l9">
            <div class="row">
                <div class="card zero-margin">
                    <div class="card-content">
                        <div class="card-header">
                            <h4 class="card-title">New Contacts</h4>
                            <hr class="zero-margin" />
                        </div>

                        @using (Html.BeginForm("NewRegistration", "Contacts", FormMethod.Post, new { id = "registration-form" })) {
                            <ul class="stepper linear" id="linearStepper">
                                <li class="step active">
                                    <div class="step-title waves-effect">Contact Details</div>
                                    <div class="step-content">
                                        <div class="row">
                                            <div class="input-field col m6 s12">
                                                <label for="Contact_Name">Full Names: <span class="red-text">*</span></label>
                                                @Html.TextBoxFor(model => model.Contact.Name, new { @class = "validate", required = "" })
                                            </div>

                                            <div class="input-field col m3 s12">
                                                @Html.DropDownListFor(model => model.Contact.Gender, Model.Gender, "Select Gender", new { @class = "validate", required = "" })
                                                <label for="Contact_Gender">Last Name: <span class="red-text">*</span></label>
                                            </div>

                                            <div class="input-field col m3 s12">
                                                @Html.TextBoxFor(model => model.Contact.Age, new { @class = "validate", required = "" })
                                                <label for="Contact_Age">Age: <span class="red-text">*</span></label>
                                            </div>

                                            <div class="input-field col m6 s12">
                                                <label for="Contact_Telephone">Mobile Number: <span class="red-text">*</span></label>
                                                @Html.TextBoxFor(model => model.Contact.Telephone, new { @class = "validate telephone", required = "" })
                                            </div>

                                            <div class="input-field col m6 s12">
                                                <label for="Contact_Email">Email:</label>
                                                @Html.TextBoxFor(model => model.Contact.Email, new { @type = "email" })
                                            </div>

                                            <div class="input-field col s12">
                                                @Html.TextAreaFor(model => model.Contact.PhysicalAddress, new { @class = "materialize-textarea validate counter", required = "", data_length = "300" })
                                                <label for="Contact_PhysicalAddress">Physical Address <span class="red-text">*</span></label>
                                            </div>
                                        </div>

                                        <div class="">
                                            <button class="waves-effect waves dark btn btn-primary next-step right" type="submit">
                                                Next
                                            </button>
                                        </div>
                                    </div>
                                </li>
                                <li class="step">
                                    <div class="step-title waves-effect">Records Details</div>
                                    <div class="step-content">
                                        <div class="row">
                                            <div class="input-field col m4 s12">
                                                @Html.DropDownListFor(model => model.Record.Caller.Id, Model.Caller, " ", new { @class = "validate", required = "" })
                                                <label for="Record_Caller_Id">Call Originator : <span class="red-text">*</span></label>
                                            </div>

                                            <div class="input-field col m4 s12 caller-dtls" style="display:none;">
                                                <label for="Referee">Name of Caller: <span class="red-text">*</span></label>
                                                @Html.TextBoxFor(model => model.Record.CallerName, new { placeholder="Name" })
                                            </div>

                                            <div class="input-field col m4 s12 caller-dtls" style="display:none;">
                                                <label for="Referee">Phone Number: <span class="red-text">*</span></label>
                                                @Html.TextBoxFor(model => model.Record.CallerPhone, new { @class = "telephone" })
                                            </div>

                                            <div class="input-field col m4 s12">
                                                @Html.DropDownListFor(model => model.Record.Type.Id, Model.Type, " ", new { @class = "validate", required = "" })
                                                <label for="Record_Type_Id">Record Type: <span class="red-text">*</span></label>
                                            </div>

                                            <div class="input-field col m4 s12">
                                                @Html.DropDownListFor(model => model.Record.Source.Id, Model.Source, " ", new { @class = "validate", required = "" })
                                                <label for="Record_Source_Id">Record Source: <span class="red-text">*</span></label>
                                            </div>

                                            <div class="input-field col m4 s12">
                                                @Html.DropDownListFor(model => model.Record.Referral.Id, Model.Referral, " ", new { @class = "validate", required = "" })
                                                <label for="Record_Referral_Id">Referred By: <span class="red-text">*</span></label>
                                            </div>

                                            <div class="input-field col m4 s12">
                                                <label for="Referee">Referee: </label>
                                                @Html.TextBoxFor(model => model.Referee, new { @class = "referee"})
                                            </div>

                                            <div class="input-field col m4 s12">
                                                <label for="Unit">Community Unit: <span class="red-text">*</span></label>
                                                @Html.TextBoxFor(model => model.Unit, new { @class = "validate community-unit", required = "" })
                                            </div>

                                            <div class="input-field col s12">
                                                @Html.TextAreaFor(model => model.Record.Description, new { @class = "materialize-textarea validate counter", required = "", data_length = "2500" })
                                                <label for="Record_Description">Call Summary <span class="red-text">*</span></label>
                                            </div>
                                        </div>

                                        <div class="">
                                            <button class="btn btn-light previous-step left">
                                                Prev
                                            </button>

                                            <button class="waves-effect waves dark btn btn-primary next-step right" type="submit">
                                                Next
                                            </button>
                                        </div>
                                        <div style="clear:both"></div>
                                    </div>
                                </li>
                                <li class="step">
                                    <div class="step-title waves-effect">Screening Details</div>
                                    <div class="step-content">
                                        <div class="row">
                                            <div class="input-field col l3 m6 s12">
                                                <p>
                                                    <label>
                                                        @Html.CheckBoxFor(m => m.Screen.Cough)
                                                        <span>Cough >2wks</span>
                                                    </label>
                                                </p>
                                                <p>
                                                    <label>
                                                        @Html.CheckBoxFor(m => m.Screen.Fever)
                                                        <span>Fever</span>
                                                    </label>
                                                </p>

                                                <p>
                                                    <label>
                                                        @Html.CheckBoxFor(m => m.Screen.WeightLoss)
                                                        <span>Weight Loss</span>
                                                    </label>
                                                </p>

                                                <p>
                                                    <label>
                                                        @Html.CheckBoxFor(m => m.Screen.NightSweats)
                                                        <span>Night Sweating</span>
                                                    </label>
                                                </p>
                                            </div>

                                            <div class="input-field col l3 m6 s12">
                                                <p>
                                                    <label>
                                                        @Html.CheckBoxFor(m => m.Screen.Contact)
                                                        <span>Expossed (TB/Cough)</span>
                                                    </label>
                                                </p>

                                                <p>
                                                    <label>
                                                        @Html.CheckBoxFor(m => m.Screen.ChestPains)
                                                        <span>Chest Pains</span>
                                                    </label>
                                                </p>

                                                <p>
                                                    <label>
                                                        @Html.CheckBoxFor(m => m.Screen.Breathless)
                                                        <span>Breathlessness</span>
                                                    </label>
                                                </p>

                                                <p>
                                                    <label>
                                                        @Html.CheckBoxFor(m => m.Screen.Playfullness, new { @disabled = "false"})
                                                        <span>Reduced Playfulness</span>
                                                    </label>
                                                </p>
                                            </div>

                                            <div class="col m6 s12">
                                                <div class="input-field">
                                                    @Html.DropDownListFor(model => model.Screen.Outcome.Id, Model.Outcomes, new { @class = "validate", required = "" })
                                                    <label for="Screen_Outcome_Id">Call Outcome: <span class="red-text">*</span></label>
                                                </div>

                                                <div class="input-field screen tb" style="display:none;">
                                                    <label for="Facility">Digital XRay Facility: <span class="red-text">*</span></label>
                                                    @Html.TextBoxFor(model => model.Facility, new { @class = "facility" })
                                                </div>

                                                <div class="input-field screen other" style="display:none">
                                                    @Html.TextBoxFor(model => model.Screen.OtherCondition, new { @class = "others" })
                                                    <label for="Screen_OtherCondition">Condition Referred: <span class="red-text">*</span></label>
                                                </div>

                                                <div class="input-field screen">
                                                    @Html.TextBoxFor(model => model.Screen.Comments)
                                                    <label for="Screen_Comments">Outcome Comments:</label>
                                                </div>

                                                <div style="clear:both"></div>
                                            </div>

                                        </div>
                                        <div class="step-actions">
                                            <div class="row">
                                                <div class="col m6 s12 mb-1">
                                                    <button class="red btn mr-1 btn-reset" type="reset">
                                                        <i class="material-icons">clear</i>
                                                        Reset
                                                    </button>
                                                </div>
                                                <div class="col m6 s12 mb-1">
                                                    <button class="waves-effect waves-dark btn btn-primary" type="submit">Submit</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var units = @Html.Raw(Model.Units);
    var facilities = @Html.Raw(Model.Facilities);
    var conditions = @Html.Raw(Model.Conditions);
</script>
<script src="~/vendors/materialize-stepper/materialize-stepper.min.js"></script>
<script src="~/vendors/formatter/jquery.formatter.min.js"></script>
<script src="~/js/contact-registration.js" type="text/javascript"></script>