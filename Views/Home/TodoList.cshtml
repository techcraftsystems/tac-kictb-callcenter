@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor;
@{
    ViewData["Title"] = "To-Do List";
    string name = HttpContextAccessor.HttpContext.User.Identity.Name;
}

<link rel="stylesheet" type="text/css" href="~/css/pages/app-sidebar.css">
<link rel="stylesheet" type="text/css" href="~/css/pages/app-todo.css">

<div class="content-wrapper-before gradient-45deg-indigo-purple"></div>
<div class="col s12">
    <div class="container">
        <!-- Sidebar Area Starts -->
        <div class="sidebar-left sidebar-fixed">
            <div class="sidebar">
                <div class="sidebar-content">
                    <div class="sidebar-header">
                        <div class="sidebar-details">
                            <h5 class="m-0 sidebar-title"><i class="material-icons app-header-icon text-top">check_box</i> To-Do</h5>
                            <div class="row valign-wrapper mt-10 pt-2 animate fadeLeft">
                                <div class="col s2 media-image">
                                    <img src="~/images/avatar/avatar-7.png" alt="" class="circle z-depth-2 responsive-img">
                                    <!-- notice the "circle" class -->
                                </div>
                                <div class="col s10">
                                    <p class="m-0 subtitle font-weight-700">@name</p>
                                    <p class="m-0 text-muted">dennis.henry@gmail.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="sidebar-list" class="sidebar-menu list-group position-relative  animate fadeLeft">
                        <div class="sidebar-list-padding app-sidebar sidenav" id="todo-sidenav">
                            <ul class="todo-list display-grid">
                                <li class="active">
                                    <a href="#!" class="text-sub"><i class="material-icons mr-2"> mail_outline </i> All</a>
                                </li>
                                <li class="sidebar-title">Filters</li>
                                <li><a href="#!" class="text-sub"><i class="material-icons mr-2"> star_border </i> Starred</a></li>
                                <li><a href="#!" class="text-sub"><i class="material-icons mr-2"> info_outline </i> Priority</a></li>
                                <li><a href="#!" class="text-sub"><i class="material-icons mr-2"> watch_later </i> Scheduled</a></li>
                                <li><a href="#!" class="text-sub"><i class="material-icons mr-2"> date_range </i> Today</a></li>
                                <li><a href="#!" class="text-sub"><i class="material-icons mr-2"> check </i> Done</a></li>
                                <li><a href="#!" class="text-sub"><i class="material-icons mr-2"> delete </i> Delete</a></li>
                                <li class="sidebar-title">Priority Tags</li>
                                <li>
                                    <a href="#!" class="text-sub">
                                        <i class="purple-text material-icons small-icons mr-2">
                                            fiber_manual_record
                                        </i> Urgent Case
                                    </a>
                                </li>
                                <li>
                                    <a href="#!" class="text-sub">
                                        <i class="amber-text material-icons small-icons mr-2">
                                            fiber_manual_record
                                        </i> Followup
                                    </a>
                                </li>
                                <li>
                                    <a href="#!" class="text-sub">
                                        <i class="light-green-text material-icons small-icons mr-2">
                                            fiber_manual_record
                                        </i> Routine Case
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <a href="#" data-target="todo-sidenav" class="sidenav-trigger hide-on-large-only">
                        <i class="material-icons">menu</i>
                    </a>
                </div>
            </div>
        </div>
        <!-- Sidebar Area Ends -->
        <!-- Content Area Starts -->
        <div class="app-todo">
            <div class="content-area content-right">
                <div class="app-wrapper">
                    <div class="app-search">
                        <i class="material-icons mr-2 search-icon">search</i>
                        <input type="text" placeholder="Search Tasks" class="app-filter" id="todo_filter">
                    </div>
                    <div class="card card card-default scrollspy border-radius-6 fixed-width">
                        <div class="card-content p-0">
                            <div class="todo-header">
                                <div class="header-checkbox">
                                    <label>
                                        <input type="checkbox" onClick="toggle(this)" />
                                        <span></span>
                                    </label>
                                </div>
                                <div class="list-content"></div>
                                <div class="todo-action">
                                    <div class="select-action">
                                        <!-- Dropdown Trigger -->
                                        <a class='dropdown-trigger btn btn-small' href='#' data-target='dropdown1'>
                                            Order By
                                            <i class="material-icons right">keyboard_arrow_down</i>
                                        </a>
                                        <!-- Dropdown Structure -->
                                        <ul id='dropdown1' class='dropdown-content'>
                                            <li><a href="#!">Option01</a></li>
                                            <li><a href="#!">Option02</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#!">Option03</a></li>
                                            <li><a href="#!"><i class="material-icons">view_module</i>Option</a></li>
                                            <li><a href="#!"><i class="material-icons">cloud</i>Option</a></li>
                                        </ul>
                                    </div>
                                    <span class="delete-tasks"><i class="material-icons grey-text mr-1">delete</i></span>
                                    <span class="sort-task"><i class="material-icons grey-text">sort</i></span>
                                </div>
                            </div>
                            <ul class="collection todo-collection">
                                <li class="collection-item">
                                    <div class="todo-move">
                                        <i class="material-icons icon-move">drag_handle</i>
                                    </div>
                                    <div class="list-left">
                                        <label>
                                            <input type="checkbox" name="foo" />
                                            <span></span>
                                        </label>
                                        <div class="favorite">
                                            <i class="material-icons">star_border</i>
                                        </div>
                                    </div>
                                    <div class="list-content">
                                        <div class="list-title-area">
                                            <div class="list-title">Add new Facilities to the system</div>
                                            <span class="badge grey lighten-2">
                                                <i class="purple-text material-icons small-icons mr-2">
                                                    fiber_manual_record
                                                </i>Urgent
                                            </span>
                                        </div>
                                        <div class="list-desc">
                                            All the new facilities with MOU's should be added to the system, and those that havent renewed MOU removed. Liase with CHEWs to know which ones are to be added
                                        </div>
                                    </div>
                                    <div class="list-right">
                                        <div class="list-date"> 23 Apr </div>
                                        <div class="delete-task"><i class="material-icons">delete</i></div>
                                    </div>
                                </li>
                                <li class="collection-item">
                                    <div class="todo-move">
                                        <i class="material-icons icon-move">drag_handle</i>
                                    </div>
                                    <div class="list-left">
                                        <label>
                                            <input type="checkbox" name="foo" />
                                            <span></span>
                                        </label>
                                        <div class="favorite">
                                            <i class="material-icons">star_border</i>
                                        </div>
                                    </div>
                                    <div class="list-content">
                                        <div class="list-title-area">
                                            <div class="list-title">Trace Missing Cases</div>
                                            <span class="badge grey lighten-2">
                                                <i class="amber-text material-icons small-icons mr-2">
                                                    fiber_manual_record
                                                </i>Followup
                                            </span>
                                        </div>
                                        <div class="list-desc">
                                            All cases that turned sputum positive and failed to report to their DOT should be traced to prevent further infections
                                        </div>
                                    </div>
                                    <div class="list-right">
                                        <div class="list-date"> 23 Apr </div>
                                        <div class="delete-task"><i class="material-icons">delete</i></div>
                                    </div>
                                </li>
                                <li class="collection-item">
                                    <div class="todo-move">
                                        <i class="material-icons icon-move">drag_handle</i>
                                    </div>
                                    <div class="list-left">
                                        <label>
                                            <input type="checkbox" name="foo" />
                                            <span></span>
                                        </label>
                                        <div class="favorite">
                                            <i class="material-icons">star_border</i>
                                        </div>
                                    </div>
                                    <div class="list-content">
                                        <div class="list-title-area">
                                            <div class="list-title">Service Call Centre</div>
                                            <span class="badge grey lighten-2">
                                                <i class="purple-text material-icons small-icons mr-2">
                                                    fiber_manual_record
                                                </i>Urgent
                                            </span>
                                        </div>
                                        <div class="list-desc">
                                            Get in-touch with service providers to ensure the call center PABX system is serviced.<br/>Call the system Developer
                                        </div>
                                    </div>
                                    <div class="list-right">
                                        <div class="list-date"> 23 Apr </div>
                                        <div class="delete-task"><i class="material-icons">delete</i></div>
                                    </div>
                                </li>
                                <li class="collection-item">
                                    <div class="todo-move">
                                        <i class="material-icons icon-move">drag_handle</i>
                                    </div>
                                    <div class="list-left">
                                        <label>
                                            <input type="checkbox" name="foo" />
                                            <span></span>
                                        </label>
                                        <div class="favorite">
                                            <i class="material-icons">star_border</i>
                                        </div>
                                    </div>
                                    <div class="list-content">
                                        <div class="list-title-area">
                                            <div class="list-title">System Errors</div>
                                            <span class="badge grey lighten-2">
                                                <i class="light-green-text material-icons small-icons mr-2">
                                                    fiber_manual_record
                                                </i>Routine
                                            </span>
                                        </div>
                                        <div class="list-desc">
                                            1. Change registration flow to include new alternative<br/>
                                            2. Fails to pick calls sometimes<br/>
                                            3. Missing tasks added 3wks ago can't be traced
                                        </div>
                                    </div>
                                    <div class="list-right">
                                        <div class="list-date"> 23 Apr </div>
                                        <div class="delete-task"><i class="material-icons">delete</i></div>
                                    </div>
                                </li>
                                <li class="collection-item">
                                    <div class="todo-move">
                                        <i class="material-icons icon-move">drag_handle</i>
                                    </div>
                                    <div class="list-left">
                                        <label>
                                            <input type="checkbox" name="foo" />
                                            <span></span>
                                        </label>
                                        <div class="favorite">
                                            <i class="material-icons">star_border</i>
                                        </div>
                                    </div>
                                    <div class="list-content">
                                        <div class="list-title-area">
                                            <div class="list-title">Request TB report from Facilities</div>
                                            <span class="badge grey lighten-2">
                                                <i class="amber-text material-icons small-icons mr-2">
                                                    fiber_manual_record
                                                </i>FU
                                            </span>
                                        </div>
                                        <div class="list-desc">
                                            All referred contacts reports to be requested to the various facilities to ensure a smooth they are all on medication.
                                        </div>
                                    </div>
                                    <div class="list-right">
                                        <div class="list-date"> 23 Apr </div>
                                        <div class="delete-task"><i class="material-icons">delete</i></div>
                                    </div>
                                </li>
                                <li class="collection-item">
                                    <div class="todo-move">
                                        <i class="material-icons icon-move">drag_handle</i>
                                    </div>
                                    <div class="list-left">
                                        <label>
                                            <input type="checkbox" name="foo" />
                                            <span></span>
                                        </label>
                                        <div class="favorite">
                                            <i class="material-icons">star_border</i>
                                        </div>
                                    </div>
                                    <div class="list-content">
                                        <div class="list-title-area">
                                            <div class="list-title">Contact Tracing</div>
                                            <span class="badge grey lighten-2">
                                                <i class="amber-text material-icons small-icons mr-2">
                                                    fiber_manual_record
                                                </i>Followup
                                            </span>
                                        </div>
                                        <div class="list-desc">
                                            Call Mike Munene to find out if the new CHEWs/CHVs have started contact tracing in Mathare District
                                        </div>
                                    </div>
                                    <div class="list-right">
                                        <div class="list-date"> 23 Apr </div>
                                        <div class="delete-task"><i class="material-icons">delete</i></div>
                                    </div>
                                </li>
                                <li class="collection-item">
                                    <div class="todo-move">
                                        <i class="material-icons icon-move">drag_handle</i>
                                    </div>
                                    <div class="list-left">
                                        <label>
                                            <input type="checkbox" name="foo" />
                                            <span></span>
                                        </label>
                                        <div class="favorite">
                                            <i class="material-icons">star_border</i>
                                        </div>
                                    </div>
                                    <div class="list-content">
                                        <div class="list-title-area">
                                            <div class="list-title">Discontinue Trempa Chemist</div>
                                            <span class="badge grey lighten-2">
                                                <i class="purple-text material-icons small-icons mr-2">
                                                    fiber_manual_record
                                                </i>Urgent
                                            </span>
                                        </div>
                                        <div class="list-desc">
                                            Following several complains from personas interacticting with Trempa Chemist, prepare a notice, serve them on defaulting the contract and remove them from the system.
                                        </div>
                                    </div>
                                    <div class="list-right">
                                        <div class="list-date"> 23 Apr </div>
                                        <div class="delete-task"><i class="material-icons">delete</i></div>
                                    </div>
                                </li>
                                <li class="collection-item">
                                    <div class="todo-move">
                                        <i class="material-icons icon-move">drag_handle</i>
                                    </div>
                                    <div class="list-left">
                                        <label>
                                            <input type="checkbox" name="foo" />
                                            <span></span>
                                        </label>
                                        <div class="favorite">
                                            <i class="material-icons">star_border</i>
                                        </div>
                                    </div>
                                    <div class="list-content">
                                        <div class="list-title-area">
                                            <div class="list-title">Onboard More Facilities</div>
                                            <span class="badge grey lighten-2">
                                                <i class="light-green-text material-icons small-icons mr-2">
                                                    fiber_manual_record
                                                </i>Routine
                                            </span>
                                        </div>
                                        <div class="list-desc">
                                            Increase coverage by onboarding new facilities. As proposed by the director, reach out to newer facilities to reduce distance travelled by the contacts to access screening services.
                                            Prepare MOU for the 29 proposed diagnostic centres
                                        </div>
                                    </div>
                                    <div class="list-right">
                                        <div class="list-date"> 23 Apr </div>
                                        <div class="delete-task"><i class="material-icons">delete</i></div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Content Area Ends -->
        <!-- Add new todo popup -->
        <div style="bottom: 54px; right: 19px;" class="fixed-action-btn direction-top">
            <a class="btn-floating btn-large primary-text gradient-shadow modal-trigger" href="#modal1">
                <i class="material-icons">note_add</i>
            </a>
        </div>
        <!-- Add new todo popup Ends-->
        <!-- Modal Structure -->
        <div id="modal1" class="modal border-radius-6 add-task-modal">
            <div class="modal-content">
                <h5 class="mt-0">Add New Task</h5>
                <hr>
                <div class="row">
                    <form class="col s12">
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="material-icons prefix"> title </i>
                                <input id="title" type="text" class="validate">
                                <label for="title">Title</label>
                            </div>
                            <div class="input-field col s12">
                                <i class="material-icons prefix"> date_range </i>
                                <input id="start-date" type="text" class="validate datepicker">
                                <label for="start-date">Start Date</label>
                            </div>
                            <div class="input-field col s12">
                                <i class="material-icons prefix"> date_range </i>
                                <input id="end-date" type="text" class="validate datepicker">
                                <label for="end-date">End Date</label>
                            </div>
                            <div class="input-field col s12">
                                <i class="material-icons prefix"> note </i>
                                <textarea id="notes" class="materialize-textarea validate"></textarea>
                                <label for="notes">Notes</label>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <a class="btn modal-close waves-effect waves-light mr-2">Add Task</a>
            </div>
        </div>
        <!-- Modal Structure Ends -->

    </div>
</div>


<script src="~/vendors/sortable/jquery-sortable-min.js"></script>
<script src="~/js/scripts/app-todo.js" type="text/javascript"></script>